# Implementation Plan

- [x] 1. Project Setup and Configuration
  - [x] 1.1 Initialize Astro project with React and Tailwind
    - Create Astro project with TypeScript
    - Add React integration
    - Add TailwindCSS integration
    - Configure astro.config.mjs for SSR mode
    - _Requirements: 9.1_
  - [x] 1.2 Install dependencies and configure project structure
    - Install fuse.js, papaparse, xlsx, mammoth, octokit, lucide-react
    - Create folder structure: components, data, lib, types
    - Setup TypeScript types for data models
    - _Requirements: 9.1_
  - [x] 1.3 Create initial JSON data files with sample data
    - Create vocabulary.json with 5 sample entries
    - Create idioms.json with 2 sample entries
    - Create phrases.json with 2 sample entries
    - Create topics.json with topic list
    - _Requirements: 9.1_

- [x] 2. Layout and Navigation Components
  - [x] 2.1 Create base layout and header component
    - Create MainLayout.astro with header, main, footer slots
    - Create Header.tsx with navigation links
    - Style with TailwindCSS, responsive design
    - _Requirements: 8.3, 8.4_
  - [x] 2.2 Create mobile navigation
    - Create MobileNav.tsx with hamburger menu
    - Implement slide-out menu for mobile
    - _Requirements: 8.5_
  - [x] 2.3 Create footer component
    - Create Footer.tsx with basic info
    - _Requirements: 8.3_

- [x] 3. Common UI Components
  - [x] 3.1 Create reusable form components
    - Create Button.tsx with variants (primary, secondary, danger, ghost)
    - Create Input.tsx with label and error state
    - Create Select.tsx dropdown component
    - Create Textarea.tsx component
    - _Requirements: 4.3_
  - [x] 3.2 Create feedback components
    - Create Toast.tsx notification component
    - Create Modal.tsx dialog component
    - Create Loading spinner component
    - Create Badge.tsx and Card.tsx components
    - Create useToast hook
    - _Requirements: 4.5, 5.5_

- [x] 4. Vocabulary List Page
  - [x] 4.1 Create vocabulary list page and data loading
    - Create /vocabulary/index.astro page
    - Load vocabulary from PostgreSQL
    - Pass data to React component
    - _Requirements: 1.1_
  - [x] 4.2 Create VocabularyList component with table display
    - Create VocabularyList.tsx with grid layout
    - Display: STT, Audio, Word, Type, Meaning, Example
    - Style with TailwindCSS
    - _Requirements: 1.1, 1.6_
  - [x] 4.3 Create VocabularyCard row component
    - Create VocabularyCard.tsx for single item
    - Add click handler to navigate to detail
    - Add audio play button
    - _Requirements: 1.1, 2.1_
  - [x] 4.4 Implement pagination
    - Create Pagination.tsx component
    - Implement 20 items per page logic
    - Display current page and total
    - _Requirements: 1.5_
  - [x] 4.5 Implement alphabet filter
    - Create AlphabetFilter.tsx with A-Z buttons
    - Filter vocabulary by first letter
    - Highlight active letter
    - _Requirements: 1.2_
  - [x] 4.6 Implement topic and level filters
    - Create TopicFilter dropdown
    - Create LevelFilter dropdown
    - Wire up filter logic
    - _Requirements: 1.3_
  - [x] 4.7 Implement search functionality
    - Create SearchBox.tsx component
    - Search across word, meaning, example
    - Debounce search input (500ms)
    - _Requirements: 1.4_
    - Load vocabulary.json data
    - Pass data to React component
    - _Requirements: 1.1_
  - [ ] 4.2 Create VocabularyList component with table display
    - Create VocabularyList.tsx with table layout
    - Display columns: STT, Audio, Word, Type, Meaning, Example
    - Style table with TailwindCSS
    - _Requirements: 1.1, 1.6_
  - [ ] 4.3 Create VocabularyCard row component
    - Create VocabularyCard.tsx for single row
    - Add click handler to navigate to detail
    - Add audio play button
    - _Requirements: 1.1, 2.1_
  - [ ] 4.4 Implement pagination
    - Create Pagination.tsx component
    - Implement 20 items per page logic
    - Display current page and total
    - _Requirements: 1.5_
  - [ ] 4.5 Implement alphabet filter
    - Create AlphabetFilter.tsx with A-Z buttons
    - Filter vocabulary by first letter
    - Highlight active letter
    - _Requirements: 1.2_
  - [ ] 4.6 Implement topic and level filters
    - Create TopicFilter.tsx dropdown
    - Create LevelFilter.tsx dropdown
    - Create BandFilter.tsx dropdown
    - Wire up filter logic
    - _Requirements: 1.3_
  - [ ] 4.7 Implement search functionality
    - Create SearchBox.tsx component
    - Integrate Fuse.js for fuzzy search
    - Search across word, meaning, example
    - Debounce search input (300ms)
    - _Requirements: 1.4_

- [x] 5. Vocabulary Detail Page
  - [x] 5.1 Create vocabulary detail page
    - Create /vocabulary/[word].astro dynamic route
    - Load single vocabulary entry by word
    - Handle 404 for non-existent words
    - _Requirements: 2.1_
  - [x] 5.2 Create VocabularyDetail component
    - Display word, phonetic, audio buttons
    - Display all word types with meanings
    - Display examples list
    - _Requirements: 2.2, 2.3_
  - [x] 5.3 Implement word forms and synonyms links
    - Display word forms as clickable chips
    - Display synonyms as clickable chips
    - Navigate to linked word if exists in data
    - _Requirements: 2.4, 2.5_
  - [x] 5.4 Display metadata section
    - Show topic tags
    - Show level indicator
    - Show IELTS band score
    - Show related vocabulary
    - _Requirements: 2.6_
    - Display all word types with meanings
    - Display examples list
    - _Requirements: 2.2, 2.3_
  - [ ] 5.3 Implement word forms and synonyms links
    - Display word forms as clickable chips
    - Display synonyms as clickable chips
    - Navigate to linked word if exists in data
    - Show indicator if link exists vs external
    - _Requirements: 2.4, 2.5_
  - [ ] 5.4 Display metadata section
    - Show topic tags
    - Show level indicator
    - Show IELTS band score
    - _Requirements: 2.6_

- [x] 6. Audio Recording Feature
  - [x] 6.1 Create AudioPlayer component
    - Create AudioPlayer.tsx for playback
    - Support both external and user audio URLs
    - Style play/pause button with progress bar
    - Volume control
    - Compact and full variants
    - _Requirements: 3.5_
  - [x] 6.2 Create AudioRecorder component
    - Create AudioRecorder.tsx using MediaRecorder API
    - Implement start/stop recording
    - Show recording indicator and duration
    - Timer display
    - _Requirements: 3.1, 3.2_
  - [x] 6.3 Create RecordingPreview component
    - Integrated in AudioRecorder.tsx
    - Playback before save
    - Add save and discard buttons
    - _Requirements: 3.3_
  - [x] 6.4 Implement audio upload API
    - Create /api/audio/upload.ts endpoint
    - Ready for Cloudflare R2 integration
    - Return audio URL
    - _Requirements: 3.4, 9.4_
  - [x] 6.5 Implement audio delete functionality
    - Create /api/audio/delete.ts endpoint
    - Delete button on existing recordings
    - Update vocabulary entry
    - _Requirements: 3.6_
  - [x] 6.6 Create VocabularyAudioManager component
    - Integrate recorder with vocabulary detail
    - Modal for recording
    - Toast notifications
    - Handle upload/delete states
    - Add delete button on existing recordings
    - Create delete API endpoint
    - Update vocabulary entry to remove audio URL
    - _Requirements: 3.6_

- [ ] 7. Admin Panel - Authentication
  - [ ] 7.1 Create admin login page
    - Create /admin/index.astro with login form
    - Create LoginForm.tsx component
    - _Requirements: 4.1_
  - [ ] 7.2 Implement authentication API
    - Create /api/auth.ts endpoint
    - Validate password against env variable
    - Set session cookie on success
    - _Requirements: 4.1_
  - [ ] 7.3 Create admin layout with auth check
    - Create AdminLayout.astro
    - Check session cookie
    - Redirect to login if not authenticated
    - _Requirements: 4.1, 4.2_

- [x] 8. Admin Panel - Vocabulary Management
  - [x] 8.1 Create admin dashboard
    - Create /admin/dashboard.astro
    - Display counts for vocabulary, idioms, phrases
    - Add quick action buttons
    - _Requirements: 4.2_
  - [x] 8.2 Create vocabulary management list
    - Create /admin/vocabulary/index.astro
    - Display vocabulary list with edit/delete buttons
    - Add search and filter
    - _Requirements: 4.2_
  - [x] 8.3 Create vocabulary form component
    - Create VocabularyForm.tsx
    - Fields: word, phonetic, types, meanings, examples, synonyms, topics, level, band
    - Form validation for required fields
    - Integrate WordFetcher for auto-fetch
    - _Requirements: 4.3, 4.5_
  - [x] 8.4 Create add vocabulary page
    - Create /admin/vocabulary/new.astro
    - Use VocabularyForm component
    - _Requirements: 4.3_
  - [x] 8.5 Create edit vocabulary page
    - Create /admin/vocabulary/edit/[id].astro
    - Pre-populate form with existing data
    - _Requirements: 4.5_
  - [x] 8.6 Implement vocabulary CRUD APIs
    - Create /api/vocabulary/create.ts
    - Create /api/vocabulary/update/[id].ts
    - Create /api/vocabulary/[id].ts (delete)
    - Validate input data
    - _Requirements: 4.3, 4.6_

- [ ] 9. Bulk Import Feature
  - [ ] 9.1 Create import page
    - Create /admin/import.astro
    - Create ImportUploader.tsx component
    - Support drag-and-drop file upload
    - _Requirements: 5.1_
  - [ ] 9.2 Implement file parsers
    - Create lib/parsers/json.ts for JSON parsing
    - Create lib/parsers/csv.ts using papaparse
    - Create lib/parsers/excel.ts using xlsx
    - Create lib/parsers/word.ts using mammoth
    - _Requirements: 5.1, 5.2, 5.3, 5.4_
  - [ ] 9.3 Create import preview component
    - Create ImportPreview.tsx
    - Display parsed data in table
    - Show validation status for each entry
    - Highlight errors
    - _Requirements: 5.5, 5.6_
  - [ ] 9.4 Implement import API
    - Create /api/import.ts endpoint
    - Merge imported data with existing
    - Commit to GitHub
    - _Requirements: 5.5_

- [x] 10. Idioms Section
  - [x] 10.1 Create idioms list page
    - Create /idioms/index.astro
    - Display idioms with search
    - _Requirements: 6.1_
  - [ ] 10.2 Create idiom detail page
    - Create /idioms/[slug].astro
    - Display idiom, meaning, examples
    - Show related vocabulary links
    - _Requirements: 6.3_
  - [ ] 10.3 Create admin idioms management
    - Create /admin/idioms pages (list, new, edit)
    - Create IdiomForm.tsx component
    - Create idiom CRUD APIs
    - _Requirements: 6.5_

- [x] 11. Phrases Section
  - [x] 11.1 Create phrases list page
    - Create /phrases/index.astro
    - Display phrases with category filter
    - _Requirements: 6.2_
  - [ ] 11.2 Create phrase detail page
    - Create /phrases/[slug].astro
    - Display phrase, meaning, examples, category
    - _Requirements: 6.2_
  - [ ] 11.3 Create admin phrases management
    - Create /admin/phrases pages (list, new, edit)
    - Create PhraseForm.tsx component
    - Create phrase CRUD APIs
    - _Requirements: 6.5_
  - [ ] 8.7 Implement GitHub commit integration
    - Create lib/github.ts utility
    - Use Octokit to commit JSON file changes
    - Handle errors and retry logic
    - _Requirements: 9.2, 9.5_

- [ ] 9. Bulk Import Feature
  - [ ] 9.1 Create import page
    - Create /admin/import.astro
    - Create ImportUploader.tsx component
    - Support drag-and-drop file upload
    - _Requirements: 5.1_
  - [ ] 9.2 Implement file parsers
    - Create lib/parsers/json.ts for JSON parsing
    - Create lib/parsers/csv.ts using papaparse
    - Create lib/parsers/excel.ts using xlsx
    - Create lib/parsers/word.ts using mammoth
    - _Requirements: 5.1, 5.2, 5.3, 5.4_
  - [ ] 9.3 Create import preview component
    - Create ImportPreview.tsx
    - Display parsed data in table
    - Show validation status for each entry
    - Highlight errors
    - _Requirements: 5.5, 5.6_
  - [ ] 9.4 Implement import API
    - Create /api/import.ts endpoint
    - Merge imported data with existing
    - Commit to GitHub
    - _Requirements: 5.5_

- [ ] 10. Idioms Section
  - [ ] 10.1 Create idioms list page
    - Create /idioms/index.astro
    - Reuse list components with idiom data
    - _Requirements: 6.1_
  - [ ] 10.2 Create idiom detail page
    - Create /idioms/[slug].astro
    - Display idiom, meaning, examples
    - Show related vocabulary links
    - _Requirements: 6.3_
  - [ ] 10.3 Create admin idioms management
    - Create /admin/idioms pages (list, new, edit)
    - Create IdiomForm.tsx component
    - Create idiom CRUD APIs
    - _Requirements: 6.5_

- [ ] 11. Phrases Section
  - [ ] 11.1 Create phrases list page
    - Create /phrases/index.astro
    - Reuse list components with phrase data
    - _Requirements: 6.2_
  - [ ] 11.2 Create phrase detail page
    - Create /phrases/[slug].astro
    - Display phrase, meaning, examples, category
    - _Requirements: 6.2_
  - [ ] 11.3 Create admin phrases management
    - Create /admin/phrases pages (list, new, edit)
    - Create PhraseForm.tsx component
    - Create phrase CRUD APIs
    - _Requirements: 6.5_

- [x] 12. IELTS Skills Sections
  - [x] 12.1 Create skill section pages
    - Create /listening.astro, /reading.astro, /speaking.astro, /writing.astro
    - Display skill tips and information
    - _Requirements: 7.1, 7.2_
  - [ ] 12.2 Create skill content detail pages (Optional)
    - Create dynamic routes for each skill
    - Display content with related vocabulary
    - Support audio recording
    - _Requirements: 7.2, 7.3_
  - [ ] 12.3 Create admin skill content management (Optional)
    - Create admin pages for each skill
    - Create SkillContentForm.tsx
    - Create skill content CRUD APIs
    - _Requirements: 7.4_

- [ ] 13. Global Search (Optional)
  - [ ] 13.1 Implement global search component
    - Create GlobalSearch.tsx in header
    - Search across vocabulary, idioms, phrases
    - Display categorized results dropdown
    - _Requirements: 8.1, 8.2_

- [x] 14. Final Polish and Deployment
  - [x] 14.1 Add responsive styles
    - Review all pages on mobile/tablet/desktop
    - All pages are responsive
    - _Requirements: 1.6_
  - [x] 14.2 Create documentation
    - README.md with setup guide
    - DATABASE_SETUP.md
    - CLOUDFLARE_R2_SETUP.md
    - CHANGELOG.md
    - TODO.md
  - [x] 14.3 Add additional pages
    - About page
    - Contact page
    - Skills pages
  - [ ] 14.4 Configure Vercel deployment (Ready)
    - Add Vercel adapter
    - Set environment variables
    - Deploy and test
    - _Requirements: 9.3_
  - [ ] 14.5 Performance optimization (Optional)
    - Image optimization
    - Code splitting
    - Caching strategy
